<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechStore - –ú–∞–≥–∞–∑–∏–Ω —Ç–µ—Ö–Ω—ñ–∫–∏</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --dark: #1e293b;
            --text-gray: #64748b;
            --light: #f3f4f6;
            --white: #ffffff;
            --red: #ef4444;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        body { font-family: 'Inter', sans-serif; margin: 0; background-color: var(--light); color: var(--dark); -webkit-font-smoothing: antialiased; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        
        /* Header */
        header { background-color: var(--white); padding: 1rem 0; position: sticky; top: 0; z-index: 100; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .header-content { display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--primary-dark); text-transform: uppercase; letter-spacing: -0.5px; }
        
        #cart-btn { background: var(--light); color: var(--dark); border: 2px solid transparent; padding: 10px 20px; border-radius: 50px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-weight: 600; transition: all 0.3s ease; }
        #cart-btn:hover { background: var(--white); border-color: var(--primary); color: var(--primary); box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15); }
        #cart-count { background-color: var(--red); color: white; border-radius: 50px; padding: 2px 8px; font-size: 0.75rem; font-weight: bold; }

        /* Grid */
        h1 { text-align: center; margin: 40px 0; font-weight: 800; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px; padding-bottom: 50px; }
        .product-card { background: var(--white); border-radius: 16px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.02); transition: all 0.3s; border: 1px solid rgba(0,0,0,0.05); display: flex; flex-direction: column; }
        .product-card:hover { transform: translateY(-8px); box-shadow: var(--shadow); }
        .product-card img { width: 100%; height: 220px; object-fit: cover; }
        .product-info { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; }
        .product-info h3 { margin: 0 0 10px 0; font-size: 1.1rem; }
        .desc { color: var(--text-gray); font-size: 0.9rem; line-height: 1.5; margin-bottom: 20px; flex-grow: 1; }
        .price-action { display: flex; justify-content: space-between; align-items: center; margin-top: auto; padding-top: 15px; border-top: 1px solid #f1f5f9; }
        .price { font-size: 1.25rem; font-weight: 700; }
        .add-btn { background: var(--dark); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: background 0.2s; }
        .add-btn:hover { background: var(--primary); }

        /* Cart & Modal */
        .cart-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 200; opacity: 0; visibility: hidden; transition: 0.3s; }
        .cart-panel { position: absolute; top: 0; right: 0; width: 450px; max-width: 90%; height: 100%; background: white; transform: translateX(100%); transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1); display: flex; flex-direction: column; z-index: 201; box-shadow: -5px 0 25px rgba(0,0,0,0.15); }
        .cart-open .cart-overlay { opacity: 1; visibility: visible; }
        .cart-open .cart-panel { transform: translateX(0); }
        
        .cart-header { padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
        .cart-header h2 { margin: 0; font-size: 1.5rem; }
        .close-btn { background: none; border: none; font-size: 2rem; cursor: pointer; color: var(--text-gray); line-height: 1; }
        .close-btn:hover { color: var(--red); }
        
        #cart-items { flex-grow: 1; overflow-y: auto; padding: 20px; }
        .cart-item { display: flex; gap: 15px; margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #f1f5f9; align-items: center; }
        .cart-item img { width: 70px; height: 70px; object-fit: cover; border-radius: 8px; background: #eee; }
        .cart-item-details { flex-grow: 1; }
        .cart-item-title { font-weight: 600; display: block; }
        .cart-item-price { color: var(--text-gray); font-size: 0.9rem; }
        
        .cart-controls { display: flex; align-items: center; gap: 10px; background: #f8fafc; padding: 5px; border-radius: 8px; }
        .qty-btn { width: 28px; height: 28px; border-radius: 6px; border: 1px solid #e2e8f0; background: white; cursor: pointer; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .qty-btn:hover { border-color: var(--primary); color: var(--primary); }
        .qty-value { font-weight: 600; min-width: 20px; text-align: center; font-size: 0.9rem; }

        .cart-footer { padding: 25px; background: #f8fafc; border-top: 1px solid #eee; }
        .cart-total-row { display: flex; justify-content: space-between; font-size: 1.25rem; font-weight: 700; margin-bottom: 15px; }
        .checkout-btn { width: 100%; padding: 16px; background: var(--primary-dark); color: white; border: none; border-radius: 12px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .checkout-btn:hover { background: var(--primary); box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3); }
        .empty-cart-msg { text-align: center; color: var(--text-gray); margin-top: 50px; }
    </style>
</head>
<body>

    <header>
        <div class="container header-content">
            <div class="logo">TechStore</div>
            <nav>
                <button id="cart-btn" onclick="toggleCart()">
                    <span>–ö–æ—à–∏–∫</span>
                    <span id="cart-count">0</span>
                </button>
            </nav>
        </div>
    </header>

    <main class="container">
        <h1>–ü–æ–ø—É–ª—è—Ä–Ω—ñ —Ç–æ–≤–∞—Ä–∏</h1>
        <div class="product-grid" id="product-container">
            </div>
    </main>

    <div id="cart-wrapper">
        <div class="cart-overlay" onclick="toggleCart()"></div>
        <div class="cart-panel">
            <div class="cart-header">
                <h2>–í–∞—à –∫–æ—à–∏–∫</h2>
                <button class="close-btn" onclick="toggleCart()">&times;</button>
            </div>
            <div id="cart-items"></div>
            <div class="cart-footer">
                <div class="cart-total-row">
                    <span>–ó–∞–≥–∞–ª–æ–º:</span>
                    <span><span id="cart-total">0</span> ‚Ç¥</span>
                </div>
                <button class="checkout-btn" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
                <div style="text-align: center; margin-top: 10px;">
                    <small onclick="clearCart()" style="color: var(--text-gray); cursor: pointer; text-decoration: underline;">–û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ—à–∏–∫</small>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- –î–ê–ù–Ü –ü–†–û –¢–û–í–ê–†–ò (–ó–∞–º—ñ—Å—Ç—å PHP) ---
        const products = [
            { id: 1, name: '–Ü–≥—Ä–æ–≤–∏–π –ù–æ—É—Ç–±—É–∫ X-Pro', price: 25000, image: 'https://placehold.co/300x200/1a1a1a/FFF?text=Laptop', desc: '–ü–æ—Ç—É–∂–Ω–∏–π –ø—Ä–æ—Ü–µ—Å–æ—Ä, 16GB RAM.' },
            { id: 2, name: '–°–º–∞—Ä—Ç—Ñ–æ–Ω Galaxy S-Ultra', price: 18000, image: 'https://placehold.co/300x200/2b2b2b/FFF?text=Phone', desc: '–ö–∞–º–µ—Ä–∞ 108–º–ø, –µ–∫—Ä–∞–Ω 120–ì—Ü.' },
            { id: 3, name: '–ë–µ–∑–¥—Ä–æ—Ç–æ–≤—ñ –ù–∞–≤—É—à–Ω–∏–∫–∏', price: 3500, image: 'https://placehold.co/300x200/3c3c3c/FFF?text=Headphones', desc: '–®—É–º–æ–ø–æ–≥–ª–∏–Ω–∞–Ω–Ω—è —Ç–∞ –≥–ª–∏–±–æ–∫–∏–π –±–∞—Å.' },
            { id: 4, name: '–°–º–∞—Ä—Ç-–≥–æ–¥–∏–Ω–Ω–∏–∫ Watch 5', price: 5000, image: 'https://placehold.co/300x200/4d4d4d/FFF?text=Watch', desc: '–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø—É–ª—å—Å—É —Ç–∞ GPS.' },
            { id: 5, name: '–ú–µ—Ö–∞–Ω—ñ—á–Ω–∞ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∞', price: 2200, image: 'https://placehold.co/300x200/5e5e5e/FFF?text=Keyboard', desc: 'RGB –ø—ñ–¥—Å–≤—ñ—Ç–∫–∞, —Å–∏–Ω—ñ —Å–≤—ñ—Ç—á—ñ.' },
            { id: 6, name: '–ú–∏—à–∫–∞ Gaming G1', price: 1200, image: 'https://placehold.co/300x200/6f6f6f/FFF?text=Mouse', desc: '–í–∏—Å–æ–∫–∞ —á—É—Ç–ª–∏–≤—ñ—Å—Ç—å 16000 DPI.' }
        ];

        // --- –ì–ï–ù–ï–†–ê–¶–Ü–Ø –¢–û–í–ê–†–Ü–í –ù–ê –°–¢–û–†–Ü–ù–¶–Ü ---
        const productContainer = document.getElementById('product-container');
        
        products.forEach(product => {
            productContainer.innerHTML += `
                <div class="product-card">
                    <img src="${product.image}" alt="${product.name}">
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <p class="desc">${product.desc}</p>
                        <div class="price-action">
                            <span class="price">${product.price.toLocaleString('uk-UA')} ‚Ç¥</span>
                            <button class="add-btn" onclick="addToCart(${product.id})">–ö—É–ø–∏—Ç–∏</button>
                        </div>
                    </div>
                </div>
            `;
        });

        // --- –õ–û–ì–Ü–ö–ê –ö–û–®–ò–ö–ê ---
        let cart = JSON.parse(localStorage.getItem('myShopCart')) || [];
        document.addEventListener('DOMContentLoaded', updateCartUI);

        function addToCart(id) {
            // –ó–Ω–∞—Ö–æ–¥–∏–º–æ —Ç–æ–≤–∞—Ä –≤ –±–∞–∑—ñ products
            const product = products.find(p => p.id === id);
            const existingItem = cart.find(item => item.id === id);

            if (existingItem) {
                existingItem.quantity++;
            } else {
                // –î–æ–¥–∞—î–º–æ –Ω–æ–≤–∏–π —Ç–æ–≤–∞—Ä –≤ –∫–æ—à–∏–∫
                cart.push({ ...product, quantity: 1 });
            }
            saveCart();
            updateCartUI();
            toggleCart(); // –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–æ—à–∏–∫ –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ
        }

        function updateQuantity(id, change) {
            const item = cart.find(item => item.id === id);
            if (!item) return;
            item.quantity += change;
            if (item.quantity <= 0) removeFromCart(id);
            else { saveCart(); updateCartUI(); }
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            saveCart();
            updateCartUI();
        }

        function clearCart() {
            if(confirm('–í–∏ —Ç–æ—á–Ω–æ —Ö–æ—á–µ—Ç–µ –æ—á–∏—Å—Ç–∏—Ç–∏ –∫–æ—à–∏–∫?')) {
                cart = [];
                saveCart();
                updateCartUI();
            }
        }

        function saveCart() { localStorage.setItem('myShopCart', JSON.stringify(cart)); }

        function updateCartUI() {
            const cartItemsDiv = document.getElementById('cart-items');
            const cartCountSpan = document.getElementById('cart-count');
            const cartTotalSpan = document.getElementById('cart-total');
            
            const totalCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCountSpan.innerText = totalCount;
            cartItemsDiv.innerHTML = '';
            let totalPrice = 0;

            if (cart.length === 0) {
                cartItemsDiv.innerHTML = '<div class="empty-cart-msg"><h3>–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π üòî</h3><p>–î–æ–¥–∞–π—Ç–µ —â–æ—Å—å —Å–º–∞—á–Ω–µ–Ω—å–∫–µ!</p></div>';
            } else {
                cart.forEach(item => {
                    totalPrice += item.price * item.quantity;
                    cartItemsDiv.innerHTML += `
                        <div class="cart-item">
                            <img src="${item.image}" alt="${item.name}">
                            <div class="cart-item-details">
                                <span class="cart-item-title">${item.name}</span>
                                <span class="cart-item-price">${item.price} ‚Ç¥</span>
                            </div>
                            <div class="cart-controls">
                                <button class="qty-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                                <span class="qty-value">${item.quantity}</span>
                                <button class="qty-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                            </div>
                            <div style="margin-left: 10px;">
                                <button class="close-btn" style="font-size: 1.5rem;" onclick="removeFromCart(${item.id})">&times;</button>
                            </div>
                        </div>
                    `;
                });
            }
            cartTotalSpan.innerText = totalPrice.toLocaleString('uk-UA');
        }

        function toggleCart() { document.getElementById('cart-wrapper').classList.toggle('cart-open'); }
        
        function checkout() {
            if (cart.length === 0) { alert('–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π!'); return; }
            alert('–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ! –ú–∏ –≤–∞–º –Ω–µ –ø–µ—Ä–µ–¥–∑–≤–æ–Ω–∏–º–æ :)');
            cart = []; saveCart(); updateCartUI(); toggleCart();
        }
    </script>
</body>
</html>